<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="partials/materializeHead :: styleHead('Register')"></head>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>


<body>

    <div th:replace="partials/navbar.html :: navbar"></div>
    <main>
        <div class="container">
            <h1>Create an Account</h1>

    <div th:if="${!param.isEmpty()}">
        <div>
            <div th:if="${param.username}">
                Username already exists or is blank.
            </div>
            <div th:if="${param.email}">
                Email already exists or is blank.
            </div>
            <div th:if="${param.password}">
                Password does not match or is blank.
            </div>
            <div th:if="${param.about}">
                Please add a little information about you.
            </div>
            <div th:if="${param.captcha}">
                Please verify you are not a robot.
            </div>
        </div>
    </div>

            <div class="row">
                <form class="col s12" th:action="@{/register}" th:method="POST" th:object="${user}">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="username" type="text" class="validate" th:field="*{username}"/>
                            <label for="username">Username</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="password" type="password" class="validate" th:field="*{password}">
                            <label for="password">Password</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="confirmPass" type="password" class="validate" name="confirm-password">
                            <label for="confirmPass">Confirm Password</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="email" type="email" class="validate" th:field="*{email}">
                            <label for="email">Email</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12" style="display: flex">
                            <label for="body">About Me</label>
                            <textarea class="materialize-textarea" id="body" th:field="*{aboutMe}"></textarea>
                            <a class="waves-effect waves-light btn" onclick="$('.tap-target').tapTarget('open')"><i class="fas fa-question"></i></a>
                        </div>

                    </div>

                    <div class="g-recaptcha" th:data-sitekey="${@environment.getProperty('recaptcha.testing.site.key')}"></div>


                    <button class="btn waves-effect waves-light" type="submit" name="action">Sign Up
                        <i class="material-icons right">send</i>
                    </button>
                </form>
                <div class="tap-target" data-target="menu">
                    <div class="tap-target-content">
                        <h5>About Me</h5>
                        <p>This will be for other users on the site. Please add some information about you and your interests along with something that you are hoping to find here and collaborate on!</p>
                    </div>
                </div>
            </div>
        </div>
        <a id="menu" class="waves-effect waves-light btn btn-floating" ><i class="material-icons">menu</i></a>
    </main>

    <div th:replace="partials/footer.html :: footer"></div>
    <div th:replace="partials/materializescripts :: scripts"></div>

</body>
</html>